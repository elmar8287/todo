(()=>{!function(){let e=JSON.parse(localStorage.getItem("todoItems"));function t(e){localStorage.setItem("todoItems",JSON.stringify(e))}function n(n,o){let d=document.createElement("li"),i=document.createElement("div"),s=document.createElement("button"),a=document.createElement("button");d.classList.add("list-group-item","d-flex","justify-content-between","align-items-center"),d.textContent=n,i.classList.add("btn-group","btn-group-sm"),s.classList.add("btn","btn-success"),s.textContent="Done",s.dataset.description=n,a.classList.add("btn","btn-secondary"),a.textContent="Delete",a.dataset.description=n,i.append(s),i.append(a),d.append(i),1==o&&d.classList.add("list-group-item-success");for(let n of e)s.addEventListener("click",(function(){if(n.description==this.dataset.description){d.classList.toggle("list-group-item-success");let o=e.indexOf(n);e[o].complete=!n.complete,t(e)}})),a.addEventListener("click",(function(){n.description==this.dataset.description&&(d.remove(),e.splice(e.indexOf(n),1),t(e))}));return{item:d,doneButton:s,deleteButton:a}}window.createTodoApp=function(o,d="Tasks",i){let s=function(e){let t=document.createElement("h2");return t.innerHTML=e,t}(d),a=function(){let e=document.createElement("form"),t=document.createElement("input"),n=document.createElement("div"),o=document.createElement("button");return e.classList.add("input-group","mb-3"),t.classList.add("form-control"),t.placeholder="Add to your list...",n.classList.add("input-group-append"),o.classList.add("btn","btn-primary"),o.textContent="Add",o.disabled=!0,n.append(o),e.append(t),e.append(n),t.addEventListener("input",(function(e){e.preventDefault(),t.value.length>0?o.disabled=!1:0==t.value.length&&(o.disabled=!0)})),{form:e,input:t,button:o}}(),c=function(){let e=document.createElement("ul");return e.classList.add("list-group"),e}();null==localStorage.getItem("todoItems")&&t(i),o.append(s),o.append(a.form),o.append(c);for(let t of e){let e=n(t.description,t.complete);c.append(e.item)}a.form.addEventListener("submit",(function(o){if(o.preventDefault(),!a.input.value)return;e.push({description:a.input.value,complete:!1,index:e.length+1}),t(e);let d=n(a.input.value);c.append(d.item),a.input.value=""}))}}();let e=[{description:"Create Todo project",complete:!0,index:1},{description:"Give feedback to partners",complete:!1,index:2},{description:"Spend week-end with family",complete:!1,index:3}];document.addEventListener("DOMContentLoaded",(function(){createTodoApp(document.getElementById("todo-app"),"Today`s To Do",e)}))})();